<%- include("../../views/partials/user/header1") %>

<section class="content-main" style="min-height: calc(100vh - 200px); display: flex; justify-content: center; align-items: center; padding: 20px; background-color: #fff5ee;">
   <div class="card card-login" style="width: 450px; min-height: 400px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-radius: 12px; display: flex; flex-direction: column; justify-content: center;">
       <div class="card-body" style="padding: 40px; text-align: center;">
           <h4 class="card-title mb-4" style="font-size: 1.5rem; font-weight: 600;">Enter New Email</h4>
           <form method="post" action="/update-email" onsubmit="return validateEmailForm()" style="display: flex; flex-direction: column; align-items: center;">
               <div class="mb-4" style="width: 100%;">
                   <input class="form-control" name="newEmail" placeholder="New Email" type="text" id="email" style="padding: 12px; font-size: 1rem; border-radius: 6px; width: 100%; box-sizing: border-box;">
                   <div class="error-message" id="email-error" style="color: #dc3545; font-size: 0.875rem; margin-top: 8px; min-height: 20px; text-align: left;"></div>
               </div>
               <div class="mb-4" style="width: 100%;">
                   <button type="submit" class="btn w-100" style="background-color: #ffdab9; color: #000; padding: 12px; font-size: 1rem; border-radius: 6px; transition: background-color 0.3s; width: 100%;">Submit</button>
               </div>
           </form>
       </div>
   </div>
</section>

<script>
   function validateEmailForm() {
       const emailInput = document.getElementById('email');
       const emailError = document.getElementById('email-error');
       const emailValue = emailInput.value.trim();
       const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

       if (emailValue === '') {
           emailError.textContent = 'Please enter your new email.';
           emailInput.classList.add('is-invalid');
           return false;
       } else if (!emailValue.match(emailPattern)) {
           emailError.textContent = 'Please enter a valid email address';
           emailInput.classList.add('is-invalid');
           return false;
       } else {
           emailError.textContent = '';
           emailInput.classList.remove('is-invalid');
           return true;
       }
   }
</script>
<%- include("../../views/partials/user/footer") %>